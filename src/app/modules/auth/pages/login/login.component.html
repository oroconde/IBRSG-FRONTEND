<div class="isolate bg-white px-6 py-24 sm:py-32 lg:px-8">
  <div class="sm:mx-auto sm:w-full sm:max-w-sm">
    <!-- <h2 class="mt-10 text-center text-4xl/9 font-medium tracking-tight text-gray-900">Iniciar Sesión</h2> -->
  </div>

  <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
    <form class="space-y-6" [formGroup]="form" (ngSubmit)="submitForm()">

      <!-- Campo: Email -->
      <div>
        <label for="email" class="block text-sm font-medium text-gray-900">Correo electrónico</label>
        <input type="email" id="email" formControlName="email"
          class="mt-2 block w-full rounded-md px-3 py-1.5 text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-blue-600" />
        <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="text-sm text-red-500 mt-1">
          El correo es obligatorio y debe ser válido.
        </div>
      </div>

      <!-- Campo: Contraseña -->
      <div>
        <div class="flex items-center justify-between">
          <label for="password" class="block text-sm font-medium text-gray-900">Contraseña</label>
          <div class="text-sm">
            <a href="#" class="text-sm text-gray-500 hover:underline">Restablecer contraseña</a>
          </div>
        </div>

        <div class="mt-2 relative">
          <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
            autocomplete="current-password"
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 outline-gray-300 placeholder:text-gray-400 focus:outline-blue-600" />

          <!-- Botón con icono EYE para mostrar/ocultar -->
          <button type="button" (click)="toggleShowPassword()"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
            aria-label="Mostrar u ocultar contraseña">
            <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path
                d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0" />
              <circle cx="12" cy="12" r="3" />
            </svg>
            <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path
                d="M17.94 17.94A10.92 10.92 0 0 1 12 19c-5.523 0-10-5-10-7s4.477-7 10-7a10.92 10.92 0 0 1 5.94 1.94" />
              <path d="M1 1l22 22" />
            </svg>
          </button>
        </div>


        <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="text-sm text-red-500 mt-1">
          La contraseña es obligatoria.
        </div>
      </div>

      <!-- Error general -->
      <div *ngIf="error" class="text-red-600 text-sm">{{ error }}</div>

      <!-- Botón de envío -->
      <button type="submit" [disabled]="loading"
        class="w-full justify-center rounded-md bg-blue-400 p-2 text-sm font-semibold text-white hover:bg-blue-600">
        {{ loading ? 'Cargando...' : 'Iniciar sesión' }}
      </button>
    </form>
  </div>
</div>